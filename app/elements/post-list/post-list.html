<link rel="import" href="../../bower_components/firebase-element/firebase-collection.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../firebase-location/firebase-location.html">
<link rel="import" href="../post-preview.html">

<dom-module id="post-list">
  
  <template>
    <firebase-collection
      location="[[postLocation]]"
      data="{{posts}}">
    </firebase-collection>
    <div class="horizontal layout wrap">
      <template is="dom-repeat" items="[[posts]]" as="post">
        <post-preview post="[[post]]"></post-preview>
      </template>
    </div>
  </template>

  <style>
    post-preview::shadow {
      margin: 10px 0 0 10px;
    }
  </style>

  <script>
    var myBehaviors = myBehaviors || {};

    Polymer({
      is: 'post-list',
      behaviors: [myBehaviors.FirebaseLocation],
      properties: {
        postLocation: {
          type: String,
          computed: 'getPostLocation(location)'
        }
      },
      getPostLocation: function(location) {
        return location + '/posts';
      }
    });
  </script>

</dom-module>